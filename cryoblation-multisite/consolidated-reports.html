<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consolidated Reports - CryoablationSoftware</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 2px 4px rgba(0,0,0,.1);
        }
        .report-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .report-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .report-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            margin-right: 20px;
        }
        .report-preview {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .report-header {
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        .stat-box {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            margin-bottom: 15px;
        }
        .filter-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="super-admin-dashboard.html">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
            <div class="navbar-brand mx-auto">
                <i class="fas fa-file-alt"></i> Consolidated Reports
            </div>
            <div class="d-flex align-items-center text-white">
                <span class="me-3"><i class="fas fa-user-shield"></i> Super Admin</span>
                <span><i class="far fa-clock"></i> <span id="currentTime"></span></span>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <!-- Report Filters -->
        <div class="filter-panel">
            <h5 class="mb-3"><i class="fas fa-filter"></i> Report Configuration</h5>
            <div class="row">
                <div class="col-md-2">
                    <label class="form-label">Report Type</label>
                    <select class="form-select" id="reportType">
                        <option value="monthly" selected>Monthly Summary</option>
                        <option value="quarterly">Quarterly Report</option>
                        <option value="annual">Annual Report</option>
                        <option value="custom">Custom Period</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Month</label>
                    <select class="form-select">
                        <option value="nov" selected>November 2025</option>
                        <option value="oct">October 2025</option>
                        <option value="sep">September 2025</option>
                        <option value="aug">August 2025</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Sites</label>
                    <select class="form-select">
                        <option value="all" selected>All Sites</option>
                        <option value="lahore">Lahore Only</option>
                        <option value="karachi">Karachi Only</option>
                        <option value="islamabad">Islamabad Only</option>
                        <option value="custom">Custom Selection</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Format</label>
                    <select class="form-select" id="reportFormat">
                        <option value="pdf" selected>PDF</option>
                        <option value="excel">Excel</option>
                        <option value="word">Word</option>
                        <option value="html">HTML</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Include</label>
                    <select class="form-select">
                        <option value="all" selected>All Data</option>
                        <option value="summary">Summary Only</option>
                        <option value="detailed">Detailed</option>
                    </select>
                </div>
                <div class="col-md-2 d-flex align-items-end">
                    <button class="btn btn-primary w-100" onclick="generateReport()">
                        <i class="fas fa-sync-alt"></i> Generate
                    </button>
                </div>
            </div>
        </div>

        <!-- Quick Reports -->
        <h5 class="mb-3"><i class="fas fa-bolt"></i> Quick Reports</h5>
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="report-card" onclick="downloadReport('executive')">
                    <div class="d-flex align-items-center">
                        <div class="report-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Executive Summary</h6>
                            <p class="mb-0 text-muted small">High-level overview</p>
                            <small class="text-primary"><i class="fas fa-download"></i> Download PDF</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="report-card" onclick="downloadReport('inventory')">
                    <div class="d-flex align-items-center">
                        <div class="report-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Inventory Report</h6>
                            <p class="mb-0 text-muted small">Stock & usage details</p>
                            <small class="text-primary"><i class="fas fa-download"></i> Download Excel</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="report-card" onclick="downloadReport('procedures')">
                    <div class="d-flex align-items-center">
                        <div class="report-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                            <i class="fas fa-procedures"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Procedures Report</h6>
                            <p class="mb-0 text-muted small">All procedures data</p>
                            <small class="text-primary"><i class="fas fa-download"></i> Download Excel</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="report-card" onclick="downloadReport('financial')">
                    <div class="d-flex align-items-center">
                        <div class="report-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Financial Report</h6>
                            <p class="mb-0 text-muted small">Cost & revenue analysis</p>
                            <small class="text-primary"><i class="fas fa-download"></i> Download PDF</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Report Preview -->
        <h5 class="mb-3"><i class="fas fa-eye"></i> Report Preview - Monthly Summary (November 2025)</h5>
        <div class="report-preview">
            <!-- Report Header -->
            <div class="report-header">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h3 class="mb-1">CryoablationSoftware Network</h3>
                        <h5 class="text-muted">Monthly Performance Report - November 2025</h5>
                        <p class="mb-0"><strong>Report Period:</strong> November 1 - November 30, 2025</p>
                        <p class="mb-0"><strong>Generated:</strong> <span id="reportDate"></span></p>
                    </div>
                    <div class="col-md-4 text-end">
                        <img src="https://via.placeholder.com/150x50/667eea/ffffff?text=CryoSoft" alt="Logo" class="img-fluid">
                        <p class="mb-0 mt-2"><strong>Confidential</strong></p>
                    </div>
                </div>
            </div>

            <!-- Executive Summary -->
            <h5 class="mb-3" style="color: #667eea;"><i class="fas fa-chart-line"></i> Executive Summary</h5>
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="stat-box">
                        <h6 class="text-muted mb-2">Total Sites</h6>
                        <h2 class="mb-0 text-primary">6</h2>
                        <small class="text-success"><i class="fas fa-check"></i> All Active</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-box">
                        <h6 class="text-muted mb-2">New Patients</h6>
                        <h2 class="mb-0 text-primary">156</h2>
                        <small class="text-success"><i class="fas fa-arrow-up"></i> +12% vs Oct</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-box">
                        <h6 class="text-muted mb-2">Procedures Done</h6>
                        <h2 class="mb-0 text-primary">198</h2>
                        <small class="text-success"><i class="fas fa-arrow-up"></i> +15% vs Oct</small>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-box">
                        <h6 class="text-muted mb-2">Network Success Rate</h6>
                        <h2 class="mb-0 text-success">96.9%</h2>
                        <small class="text-muted">Excellent</small>
                    </div>
                </div>
            </div>

            <!-- Site-wise Performance -->
            <h5 class="mb-3" style="color: #667eea;"><i class="fas fa-hospital"></i> Site-wise Performance</h5>
            <div class="table-responsive mb-4">
                <table class="table table-bordered">
                    <thead class="table-light">
                        <tr>
                            <th>Site</th>
                            <th>New Patients</th>
                            <th>Procedures</th>
                            <th>Success Rate</th>
                            <th>Inventory Used</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Lahore</strong></td>
                            <td>42</td>
                            <td>58</td>
                            <td><span class="badge bg-success">98.2%</span></td>
                            <td>PKR 2.1M</td>
                            <td><span class="badge bg-success">Excellent</span></td>
                        </tr>
                        <tr>
                            <td><strong>Karachi</strong></td>
                            <td>38</td>
                            <td>49</td>
                            <td><span class="badge bg-success">97.8%</span></td>
                            <td>PKR 1.8M</td>
                            <td><span class="badge bg-success">Excellent</span></td>
                        </tr>
                        <tr>
                            <td><strong>Islamabad</strong></td>
                            <td>31</td>
                            <td>41</td>
                            <td><span class="badge bg-success">96.5%</span></td>
                            <td>PKR 1.5M</td>
                            <td><span class="badge bg-success">Good</span></td>
                        </tr>
                        <tr>
                            <td><strong>Multan</strong></td>
                            <td>23</td>
                            <td>28</td>
                            <td><span class="badge bg-warning text-dark">95.1%</span></td>
                            <td>PKR 1.1M</td>
                            <td><span class="badge bg-warning text-dark">Action Needed</span></td>
                        </tr>
                        <tr>
                            <td><strong>Peshawar</strong></td>
                            <td>12</td>
                            <td>16</td>
                            <td><span class="badge bg-success">97.2%</span></td>
                            <td>PKR 0.7M</td>
                            <td><span class="badge bg-success">Good</span></td>
                        </tr>
                        <tr>
                            <td><strong>Faisalabad</strong></td>
                            <td>10</td>
                            <td>14</td>
                            <td><span class="badge bg-success">96.8%</span></td>
                            <td>PKR 0.5M</td>
                            <td><span class="badge bg-info">Satisfactory</span></td>
                        </tr>
                        <tr class="table-primary">
                            <td><strong>TOTAL</strong></td>
                            <td><strong>156</strong></td>
                            <td><strong>198</strong></td>
                            <td><strong>96.9%</strong></td>
                            <td><strong>PKR 7.7M</strong></td>
                            <td><strong>-</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Inventory Summary -->
            <h5 class="mb-3" style="color: #667eea;"><i class="fas fa-warehouse"></i> Inventory Summary</h5>
            <div class="row mb-4">
                <div class="col-md-6">
                    <h6 class="mb-3">Current Stock Levels</h6>
                    <table class="table table-sm table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th>Item</th>
                                <th>Total Stock</th>
                                <th>Used This Month</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Probes (All Types)</td>
                                <td>562</td>
                                <td>198</td>
                                <td><span class="badge bg-success">Healthy</span></td>
                            </tr>
                            <tr>
                                <td>Sterile Covers</td>
                                <td>943</td>
                                <td>396</td>
                                <td><span class="badge bg-success">Healthy</span></td>
                            </tr>
                            <tr>
                                <td>Ethanol (Liters)</td>
                                <td>687</td>
                                <td>168</td>
                                <td><span class="badge bg-success">Healthy</span></td>
                            </tr>
                            <tr>
                                <td>Liquid Nitrogen (L)</td>
                                <td>456</td>
                                <td>124</td>
                                <td><span class="badge bg-success">Healthy</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="col-md-6">
                    <h6 class="mb-3">Alerts & Actions Required</h6>
                    <div class="alert alert-warning">
                        <strong><i class="fas fa-exclamation-triangle"></i> Low Stock Alert</strong>
                        <p class="mb-1">Multan site has critically low probe stock (34 units)</p>
                        <small>Recommended: Transfer 50 probes from Lahore or place urgent order</small>
                    </div>
                    <div class="alert alert-info">
                        <strong><i class="fas fa-info-circle"></i> Reorder Recommendation</strong>
                        <p class="mb-1">Based on usage trends, reorder recommended for:</p>
                        <ul class="mb-0 small">
                            <li>Sterile Covers: 500 units</li>
                            <li>Ethanol: 200 liters</li>
                        </ul>
                    </div>
                    <div class="alert alert-success">
                        <strong><i class="fas fa-check-circle"></i> Inventory Health</strong>
                        <p class="mb-0">Overall network inventory status is healthy. 5 out of 6 sites have adequate stock levels.</p>
                    </div>
                </div>
            </div>

            <!-- Key Metrics -->
            <h5 class="mb-3" style="color: #667eea;"><i class="fas fa-tachometer-alt"></i> Key Performance Metrics</h5>
            <div class="row mb-4">
                <div class="col-md-4">
                    <div class="stat-box bg-light">
                        <h6 class="text-muted">Average Procedure Time</h6>
                        <h3 class="text-primary">46 minutes</h3>
                        <small>Across all sites</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-box bg-light">
                        <h6 class="text-muted">Patient Satisfaction</h6>
                        <h3 class="text-success">94.5%</h3>
                        <small>Based on post-procedure surveys</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-box bg-light">
                        <h6 class="text-muted">Cost per Procedure</h6>
                        <h3 class="text-info">PKR 38,889</h3>
                        <small>Average inventory cost</small>
                    </div>
                </div>
            </div>

            <!-- Recommendations -->
            <h5 class="mb-3" style="color: #667eea;"><i class="fas fa-lightbulb"></i> Strategic Recommendations</h5>
            <div class="row">
                <div class="col-md-6">
                    <div class="card border-success mb-3">
                        <div class="card-header bg-success text-white">
                            <strong><i class="fas fa-thumbs-up"></i> Continue</strong>
                        </div>
                        <div class="card-body">
                            <ul class="mb-0">
                                <li>Maintain excellent success rates at Lahore and Karachi sites</li>
                                <li>Continue efficient procedures at Islamabad (42 min avg)</li>
                                <li>Replicate best practices across all sites</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card border-warning mb-3">
                        <div class="card-header bg-warning">
                            <strong><i class="fas fa-exclamation-triangle"></i> Improve</strong>
                        </div>
                        <div class="card-body">
                            <ul class="mb-0">
                                <li>Address inventory shortage at Multan immediately</li>
                                <li>Provide training to improve Multan's success rate</li>
                                <li>Increase marketing efforts for Peshawar and Faisalabad</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Report Footer -->
            <div class="text-center mt-4 pt-4 border-top">
                <p class="text-muted mb-1"><strong>Report Generated By:</strong> CryoablationSoftware v2.0</p>
                <p class="text-muted mb-1"><strong>Generated On:</strong> <span id="reportFooterDate"></span></p>
                <p class="text-muted mb-0"><strong>Confidential:</strong> For authorized personnel only</p>
            </div>
        </div>

        <!-- Download Actions -->
        <div class="text-center mb-4">
            <button class="btn btn-success btn-lg me-2" onclick="downloadReport('excel')">
                <i class="fas fa-file-excel"></i> Download Excel
            </button>
            <button class="btn btn-danger btn-lg me-2" onclick="downloadReport('pdf')">
                <i class="fas fa-file-pdf"></i> Download PDF
            </button>
            <button class="btn btn-primary btn-lg me-2" onclick="emailReport()">
                <i class="fas fa-envelope"></i> Email Report
            </button>
            <button class="btn btn-secondary btn-lg" onclick="window.print()">
                <i class="fas fa-print"></i> Print
            </button>
        </div>

        <!-- Scheduled Reports -->
        <h5 class="mb-3"><i class="fas fa-calendar-check"></i> Scheduled Reports</h5>
        <div class="report-preview">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead class="table-light">
                        <tr>
                            <th>Report Name</th>
                            <th>Type</th>
                            <th>Frequency</th>
                            <th>Recipients</th>
                            <th>Next Run</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Monthly Executive Summary</td>
                            <td>PDF</td>
                            <td>Monthly (1st)</td>
                            <td>admin@hospital.com</td>
                            <td>Dec 1, 2025</td>
                            <td><span class="badge bg-success">Active</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>Weekly Inventory Report</td>
                            <td>Excel</td>
                            <td>Weekly (Monday)</td>
                            <td>inventory@hospital.com</td>
                            <td>Nov 18, 2025</td>
                            <td><span class="badge bg-success">Active</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>Quarterly Performance Review</td>
                            <td>PDF</td>
                            <td>Quarterly</td>
                            <td>board@hospital.com</td>
                            <td>Jan 1, 2026</td>
                            <td><span class="badge bg-success">Active</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="text-end">
                <button class="btn btn-primary"><i class="fas fa-plus"></i> Add Scheduled Report</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Update current time
        function updateTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = now.toLocaleString('en-US', {
                hour: '2-digit',
                minute: '2-digit',
                day: '2-digit',
                month: 'short'
            });
            document.getElementById('reportDate').textContent = now.toLocaleString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('reportFooterDate').textContent = now.toLocaleString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }
        updateTime();
        setInterval(updateTime, 60000);

        function generateReport() {
            alert('Generating report based on selected filters...');
        }

        function downloadReport(type) {
            alert(`Downloading ${type} report...`);
        }

        function emailReport() {
            alert('Opening email dialog to send report...');
        }
    </script>
</body>
</html>
